var DragResizeBox=function(){"use strict";const t={zoom:!0,minWidth:0,minHeight:0,zIndex:9999,dragSelector:null,left:0,top:0,cornerSize:16,borderSize:12,center:!1};return class{constructor(o,e){if(this.options=Object.assign({...t},e),this.domEl=o,this.dragDomEl=document.querySelector(this.options.dragSelector),null!==this.options.dragSelector&&!this.dragDomEl)throw new Error("Options Error: dragSelector is invalid.");this.init()}init(){if(this.domEl.style.position="fixed",this.options.center){const{width:t,height:o}=this.domEl.getBoundingClientRect();this.domEl.style.left=`calc(50% - ${t/2}px)`,this.domEl.style.top=`calc(50% - ${o/2}px)`}else this.domEl.style.left=this.options.left+"px",this.domEl.style.top=this.options.top+"px";this.domEl.style.zIndex=this.options.zIndex,this.domEl.style.cursor=null===this.options.dragSelector?"move":"auto",this.domEl.style.overflow="hidden",this.domEl.ondragstart=t=>t.preventDefault(),this.dragDomEl&&(this.dragDomEl.style.cursor="move"),this.options.zoom&&this.zoom(),this.drag()}getDomElBorderWidth(){const t=window.getComputedStyle(this.domEl);return{borderLeftWidth:parseInt(t.borderLeftWidth,10),borderTopWidth:parseInt(t.borderTopWidth,10),borderBottomWidth:parseInt(t.borderBottomWidth,10),borderRightWidth:parseInt(t.borderRightWidth,10)}}drag(){(this.dragDomEl??this.domEl).addEventListener("mousedown",(t=>{t.stopPropagation();const o=t.clientX,e=t.clientY,{width:i,height:s,left:n,top:h}=this.domEl.getBoundingClientRect();document.onmousemove=t=>{const l=Math.max(0,Math.min(n+t.clientX-o,window.innerWidth-i)),d=Math.max(0,Math.min(h+t.clientY-e,window.innerHeight-s));this.domEl.style.left=l+"px",this.domEl.style.top=d+"px"},document.onmouseup=()=>{document.onmousemove=null}}))}zoom(){this.addCorner(),this.addBorder()}addCorner(){const t=document.createElement("div"),o=document.createElement("div"),e=document.createElement("div"),i=document.createElement("div"),{borderLeftWidth:s,borderTopWidth:n,borderBottomWidth:h,borderRightWidth:l}=this.getDomElBorderWidth();t.style.width=this.options.cornerSize+"px",t.style.height=this.options.cornerSize+"px",t.style.position="absolute",t.style.left=-(this.options.cornerSize/2+s)+"px",t.style.top=-(this.options.cornerSize/2+n)+"px",t.style.cursor="nw-resize",o.style.width=this.options.cornerSize+"px",o.style.height=this.options.cornerSize+"px",o.style.position="absolute",o.style.right=-(this.options.cornerSize/2+l)+"px",o.style.top=-(this.options.cornerSize/2+n)+"px",o.style.cursor="ne-resize",e.style.width=this.options.cornerSize+"px",e.style.height=this.options.cornerSize+"px",e.style.position="absolute",e.style.right=-(this.options.cornerSize/2+l)+"px",e.style.bottom=-(this.options.cornerSize/2+h)+"px",e.style.cursor="se-resize",i.style.width=this.options.cornerSize+"px",i.style.height=this.options.cornerSize+"px",i.style.position="absolute",i.style.left=-(this.options.cornerSize/2+s)+"px",i.style.bottom=-(this.options.cornerSize/2+h)+"px",i.style.cursor="sw-resize",this.domEl.append(t),this.domEl.append(o),this.domEl.append(e),this.domEl.append(i),this.leftTopZoom(t),this.rightTopZoom(o),this.rightBottomZoom(e),this.leftBottomZoom(i)}addBorder(){const t=document.createElement("div"),o=document.createElement("div"),e=document.createElement("div"),i=document.createElement("div"),{borderLeftWidth:s,borderTopWidth:n,borderBottomWidth:h,borderRightWidth:l}=this.getDomElBorderWidth();t.style.width=this.options.borderSize+"px",t.style.height=`calc(100% + ${n+h}px - ${this.options.cornerSize}px)`,t.style.position="absolute",t.style.left=-(this.options.borderSize/2+s)+"px",t.style.top=this.options.cornerSize/2-n+"px",t.style.cursor="col-resize",o.style.width=`calc(100% + ${s+l}px - ${this.options.cornerSize}px)`,o.style.height=this.options.borderSize+"px",o.style.position="absolute",o.style.left=this.options.cornerSize/2-s+"px",o.style.top=-(this.options.borderSize/2+n)+"px",o.style.cursor="row-resize",e.style.width=this.options.borderSize+"px",e.style.height=`calc(100% + ${n+h}px - ${this.options.cornerSize}px)`,e.style.position="absolute",e.style.right=-(this.options.borderSize/2+l)+"px",e.style.top=this.options.cornerSize/2-n+"px",e.style.cursor="col-resize",i.style.width=`calc(100% + ${s+l}px - ${this.options.cornerSize}px)`,i.style.height=this.options.borderSize+"px",i.style.position="absolute",i.style.left=this.options.cornerSize/2-s+"px",i.style.bottom=-(this.options.borderSize/2+h)+"px",i.style.cursor="row-resize",this.domEl.append(t),this.domEl.append(o),this.domEl.append(e),this.domEl.append(i),this.leftZoom(t),this.topZoom(o),this.rightZoom(e),this.bottomZoom(i)}leftZoom(t){t.addEventListener("mousedown",(t=>{t.stopPropagation();const o=t.clientX,{width:e,left:i}=this.domEl.getBoundingClientRect();document.onmousemove=t=>{const s=Math.max(this.options.minWidth,Math.min(e+o-t.clientX,e+i)),n=Math.max(0,Math.min(i+t.clientX-o,e+i-this.options.minWidth));this.domEl.style.width=s+"px",this.domEl.style.left=n+"px"},document.onmouseup=()=>{document.onmousemove=null}}))}topZoom(t){t.addEventListener("mousedown",(t=>{t.stopPropagation();const o=t.clientY,{height:e,top:i}=this.domEl.getBoundingClientRect();document.onmousemove=t=>{const s=Math.max(this.options.minHeight,Math.min(e+o-t.clientY,e+i)),n=Math.max(0,Math.min(i+t.clientY-o,e+i-this.options.minHeight));this.domEl.style.height=s+"px",this.domEl.style.top=n+"px"},document.onmouseup=()=>{document.onmousemove=null}}))}rightZoom(t){t.addEventListener("mousedown",(t=>{t.stopPropagation();const o=t.clientX,{width:e,left:i}=this.domEl.getBoundingClientRect();document.onmousemove=t=>{const s=Math.max(this.options.minWidth,Math.min(e+t.clientX-o,window.innerWidth-i)),n=i;this.domEl.style.width=s+"px",this.domEl.style.left=n+"px"},document.onmouseup=()=>{document.onmousemove=null}}))}bottomZoom(t){t.addEventListener("mousedown",(t=>{t.stopPropagation();const o=t.clientY,{height:e,top:i}=this.domEl.getBoundingClientRect();document.onmousemove=t=>{const s=Math.max(this.options.minHeight,Math.min(e+t.clientY-o,window.innerHeight-i)),n=i;this.domEl.style.height=s+"px",this.domEl.style.top=n+"px"},document.onmouseup=()=>{document.onmousemove=null}}))}leftTopZoom(t){t.addEventListener("mousedown",(t=>{t.stopPropagation();const o=t.clientX,e=t.clientY,{width:i,height:s,left:n,top:h}=this.domEl.getBoundingClientRect();document.onmousemove=t=>{const l=Math.max(this.options.minWidth,Math.min(i+o-t.clientX,i+n)),d=Math.max(this.options.minHeight,Math.min(s+e-t.clientY,s+h)),m=Math.max(0,Math.min(n+t.clientX-o,i+n-this.options.minWidth)),r=Math.max(0,Math.min(h+t.clientY-e,s+h-this.options.minHeight));this.domEl.style.width=l+"px",this.domEl.style.height=d+"px",this.domEl.style.left=m+"px",this.domEl.style.top=r+"px"},document.onmouseup=()=>{document.onmousemove=null}}))}rightTopZoom(t){t.addEventListener("mousedown",(t=>{t.stopPropagation();const o=t.clientX,e=t.clientY,{width:i,height:s,left:n,top:h}=this.domEl.getBoundingClientRect();document.onmousemove=t=>{const l=Math.max(this.options.minWidth,Math.min(i+t.clientX-o,window.innerWidth-n)),d=Math.max(this.options.minHeight,Math.min(s+e-t.clientY,s+h)),m=n,r=Math.max(0,Math.min(h+t.clientY-e,s+h-this.options.minHeight));this.domEl.style.width=l+"px",this.domEl.style.height=d+"px",this.domEl.style.left=m+"px",this.domEl.style.top=r+"px"},document.onmouseup=()=>{document.onmousemove=null}}))}rightBottomZoom(t){t.addEventListener("mousedown",(t=>{t.stopPropagation();const o=t.clientX,e=t.clientY,{width:i,height:s,left:n,top:h}=this.domEl.getBoundingClientRect();document.onmousemove=t=>{const l=Math.max(this.options.minWidth,Math.min(i+t.clientX-o,window.innerWidth-n)),d=Math.max(this.options.minHeight,Math.min(s+t.clientY-e,window.innerHeight-h)),m=n,r=h;this.domEl.style.width=l+"px",this.domEl.style.height=d+"px",this.domEl.style.left=m+"px",this.domEl.style.top=r+"px"},document.onmouseup=()=>{document.onmousemove=null}}))}leftBottomZoom(t){t.addEventListener("mousedown",(t=>{t.stopPropagation();const o=t.clientX,e=t.clientY,{width:i,height:s,left:n,top:h}=this.domEl.getBoundingClientRect();document.onmousemove=t=>{const l=Math.max(this.options.minWidth,Math.min(i+o-t.clientX,i+n)),d=Math.max(this.options.minHeight,Math.min(s+t.clientY-e,window.innerHeight-h)),m=Math.max(0,Math.min(n+t.clientX-o,i+n-this.options.minWidth)),r=h;this.domEl.style.width=l+"px",this.domEl.style.height=d+"px",this.domEl.style.left=m+"px",this.domEl.style.top=r+"px"},document.onmouseup=()=>{document.onmousemove=null}}))}}}();
